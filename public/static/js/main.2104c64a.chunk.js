(window.webpackJsonpplatform=window.webpackJsonpplatform||[]).push([[0],{106:function(e,t,a){},107:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},115:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),o=a.n(i),c=a(67),l=a(83),u=a(176),s=a(184),m=a(6),f=a(40),p=a(182),d=a(167),E=a(82),v=a.n(E),h=a(160),g=a(162),b=a(86),y=a(7),O={light:"#4d586b",main:"#242f40",dark:"#00051a",contrastText:"#ffffff"},w={primary:{main:"".concat(O.main,"30")}};var x={appBar:{backgroundColor:"#ffffff",borderBottom:"1px solid ".concat(w.primary.main),color:O.main,marginBottom:"1rem"}},j=Object(y.a)(x)(function(e){var t=e.classes;return r.a.createElement(h.a,{elevation:0,position:"static",className:t.appBar},r.a.createElement(g.a,{variant:"dense"},r.a.createElement(b.a,{variant:"h6"},"Mech4u")))}),I=a(18),S=a(175),N=a(15),C=a.n(N),T=a(3),k=a(25),_=a(178),R=a(163),P=Object(n.createContext)();function M(e){return L.apply(this,arguments)}function L(){return(L=Object(k.a)(C.a.mark(function e(t){var a,n;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),e.prev=2,e.next=5,fetch("/api/file/upload",{method:"POST",body:a});case 5:return n=e.sent,e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",{data:null,error:{status:500,message:"N\xe3o foi poss\xedvel fazer upload do arquivo"}});case 15:case"end":return e.stop()}},e,null,[[2,11]])}))).apply(this,arguments)}a(106);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(a,!0).forEach(function(t){Object(T.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var W=Object(y.a)({uploadButton:{fontSize:"1.25rem",height:"5rem"}})(function(e){var t=e.classes,a=r.a.useRef(null),n=r.a.useContext(P),i=n.itemsLoading,o=n.setItemsLoading,c=n.addItem;function l(){return(l=Object(k.a)(C.a.mark(function e(t){var a,n;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,M(t.target.files[0]);case 4:a=e.sent,n=a.data,c(A({},n)),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[1,9,11,14]])}))).apply(this,arguments)}return r.a.createElement(_.a,{component:"div",id:"quotation-upload-wrapper"},r.a.createElement("input",{type:"file",name:"file",id:"quotation-upload-input",ref:a,onChange:function(e){return l.apply(this,arguments)}}),r.a.createElement(R.a,{color:"primary",className:t.uploadButton,disabled:i,fullWidth:!0,onClick:function(){a.current.click()},variant:"text"},"Adicionar Arquivo"))}),J=a(174),z=a(80),H=a.n(z),q=a(164),B=a(119),Y=a(172),F=a(78),G=a.n(F),U=a(79),Z=a.n(U),X=a(181),V=a(170),$=a(171),Q=a(173),K=a(169),ee=a(39);function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(a,!0).forEach(function(t){Object(T.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ne=function(e){var t=e.materialType,a=e.setMaterialType,n=r.a.useState(null),i=Object(m.a)(n,2),o=i[0],c=i[1],l=r.a.useState([]),u=Object(m.a)(l,2),s=u[0],f=u[1],p=r.a.useContext(P).materials;return r.a.useEffect(function(){var e=t.id,a=t.name;c({label:a,value:e})},[t]),r.a.useEffect(function(){f(p.map(function(e){return e.material_types.map(function(e){return{label:e.name,value:e.id}})}).flat(1))},[p]),r.a.createElement(q.a,{container:!0,spacing:2},r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(b.a,{color:"primary",variant:"h6"},"Material")),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(ee.a,{value:o,options:s,onChange:function(e){a(function(e,t){var a=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var c=i.value,l=!0,u=!1,s=void 0;try{for(var m,f=c.material_types[Symbol.iterator]();!(l=(m=f.next()).done);l=!0){var p=m.value;if(p.id===t)return ae({},p)}}catch(d){u=!0,s=d}finally{try{l||null==f.return||f.return()}finally{if(u)throw s}}}}catch(d){n=!0,r=d}finally{try{a||null==o.return||o.return()}finally{if(n)throw r}}}(p,e.value))}})))};var re=function(e){var t=r.a.useState([]),a=Object(m.a)(t,2),n=a[0],i=a[1],o=r.a.useState(null),c=Object(m.a)(o,2),l=c[0],u=c[1],s=r.a.useState([]),f=Object(m.a)(s,2),p=f[0],d=f[1],E=r.a.useContext(P).materials,v=e.materialTypeId,h=e.heatTreatment,g=e.setHeatTreatment;return r.a.useEffect(function(){i(function(e,t){var a=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var c=i.value,l=!0,u=!1,s=void 0;try{for(var m,f=c.material_types[Symbol.iterator]();!(l=(m=f.next()).done);l=!0){var p=m.value;if(p.id===t)return Object(I.a)(p.heat_treatments)}}catch(d){u=!0,s=d}finally{try{l||null==f.return||f.return()}finally{if(u)throw s}}}}catch(d){n=!0,r=d}finally{try{a||null==o.return||o.return()}finally{if(n)throw r}}}(E,v))},[v,E]),r.a.useEffect(function(){d([{label:"Nenhum",value:null}].concat(n.map(function(e){return{label:e.name,value:e.id}})))},[n]),r.a.useEffect(function(){u(h?{label:h.name,value:h.id}:{label:"Nenhum",value:null})},[h]),r.a.createElement(q.a,{container:!0,spacing:2},r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(b.a,{color:"primary",variant:"h6"},"Tratamento T\xe9rmico")),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(ee.a,{value:l,options:p,onChange:function(e){null===e.value?g(null):g(n.find(function(t){return t.id===e.value}))}})))};var ie=function(e){var t=r.a.useState([]),a=Object(m.a)(t,2),n=a[0],i=a[1],o=r.a.useState(null),c=Object(m.a)(o,2),l=c[0],u=c[1],s=r.a.useState([]),f=Object(m.a)(s,2),p=f[0],d=f[1],E=r.a.useContext(P).materials,v=e.materialTypeId,h=e.superficialTreatment,g=e.setSuperficialTreatment;return r.a.useEffect(function(){i(function(e,t){var a=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var c=i.value,l=!0,u=!1,s=void 0;try{for(var m,f=c.material_types[Symbol.iterator]();!(l=(m=f.next()).done);l=!0){var p=m.value;if(p.id===t)return Object(I.a)(p.superficial_treatments)}}catch(d){u=!0,s=d}finally{try{l||null==f.return||f.return()}finally{if(u)throw s}}}}catch(d){n=!0,r=d}finally{try{a||null==o.return||o.return()}finally{if(n)throw r}}}(E,v))},[v,E]),r.a.useEffect(function(){d([{label:"Nenhum",value:null}].concat(n.map(function(e){return{label:e.name,value:e.id}})))},[n]),r.a.useEffect(function(){u(h?{label:h.name,value:h.id}:{label:"Nenhum",value:null})},[h]),r.a.createElement(q.a,{container:!0,spacing:2},r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(b.a,{color:"primary",variant:"h6"},"Tratamento Superficial")),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(ee.a,{value:l,options:p,onChange:function(e){null===e.value?g(null):g(n.find(function(t){return t.id===e.value}))}})))},oe=a(166),ce=a(165),le=a(179),ue=a(183);function se(e){switch(e){case"PRECISION":return"Com precis\xe3o - 1.6 Ra";case"RECTIFIED":return"Retificado - 0.8 Ra";case"POLISHED":return"Polido - 0.4 Ra";default:return"Padr\xe3o - 3.2 Ra"}}var me=["STANDARD","PRECISION","RECTIFIED","POLISHED"],fe=function(e){var t=e.finishing,a=e.setFinishing,n=r.a.useState(me[0]),i=Object(m.a)(n,2),o=i[0],c=i[1];return r.a.useEffect(function(){c(null===t?me[0]:t)},[t]),r.a.createElement(q.a,{container:!0,spacing:1},r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(b.a,{variant:"h6",color:"primary"},"Acabamento")),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(ce.a,{component:"fieldset",fullWidth:!0},r.a.createElement(ue.a,{value:o,onChange:function(e){a(e.target.value)}},r.a.createElement(q.a,{container:!0,spacing:1},me.map(function(e){return r.a.createElement(q.a,{item:!0,xs:12,key:"select-finishing-"+e},r.a.createElement(oe.a,{value:e,control:r.a.createElement(le.a,null),label:se(e)}))}))))))};function pe(e){switch(e){case"MEDIUM":return"Entre ".concat(String.fromCharCode(177),"0.09mm e ").concat(String.fromCharCode(177),"0.14mm");case"LOW":return"Entre ".concat(String.fromCharCode(177),"0.03mm e ").concat(String.fromCharCode(177),"0.08mm");case"VERY_LOW":return"Menor que ".concat(String.fromCharCode(177),"0.03mm");default:return"Maior que ".concat(String.fromCharCode(177),"0.14mm")}}var de=["HIGH","MEDIUM","LOW","VERY_LOW"],Ee=function(e){var t=e.tolerance,a=e.setTolerance,n=r.a.useState(de[0]),i=Object(m.a)(n,2),o=i[0],c=i[1];return r.a.useEffect(function(){c(null===t?de[0]:t)},[t]),r.a.createElement(q.a,{container:!0},r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(q.a,{container:!0,alignItems:"flex-start"},r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(b.a,{variant:"h6",color:"primary"},"Menor Toler\xe2ncia")),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(ce.a,{component:"fieldset",fullWidth:!0},r.a.createElement(ue.a,{value:o,onChange:function(e){a(e.target.value)}},r.a.createElement(q.a,{container:!0,spacing:1},de.map(function(e){return r.a.createElement(q.a,{item:!0,xs:12,key:"select-tolerance-"+e},r.a.createElement(oe.a,{value:e,control:r.a.createElement(le.a,null),label:pe(e)}))}))))))))},ve=a(177);function he(e){return"INTERNAL"===e?"Interna":"EXTERNAL"===e?"Externa":"Nenhuma"}var ge=["NONE","EXTERNAL","INTERNAL"],be=function(e){var t=e.screw,a=e.setScrew,n=r.a.useState(ge[0]),i=Object(m.a)(n,2),o=i[0],c=i[1];function l(e){var n=t?t.amount:0,r=e.target.value;r=""===r?0:isNaN(r)?n:parseInt(r,10),a({type:t.type,amount:r})}return r.a.useEffect(function(){c(null===t?ge[0]:ge.find(function(e){return e===t.type}))},[t]),r.a.createElement(q.a,{container:!0},r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(q.a,{container:!0},r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(b.a,{variant:"h6",color:"primary"},"Roscas")),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(ce.a,{component:"fieldset",fullWidth:!0},r.a.createElement(ue.a,{value:o,onChange:function(e){var n=e.target.value;a("NONE"===n?null:{type:n,amount:t&&"INTERNAL"===n?t.amount:0})}},r.a.createElement(q.a,{container:!0,spacing:1},ge.map(function(e){return r.a.createElement(q.a,{item:!0,xs:12,key:"select-screw-type-"+e},r.a.createElement(oe.a,{value:e,control:r.a.createElement(le.a,null),label:he(e)}),"INTERNAL"===e&&r.a.createElement(ve.a,{disabled:null===t||"EXTERNAL"===t.type,error:!(!t||"INTERNAL"!==t.type)&&0===t.amount,helperText:"N\xfamero de roscas internas",onChange:l,type:"text",value:t&&0!==t.amount?t.amount.toString():""}))}))))))))};var ye=[{label:"Nenhuma",value:null},{label:"Tipada",value:"TIPED"},{label:"Caneca el\xe9trica/pneum\xe1tica",value:"ELETRIC_PNEUMATIC_PEN"},{label:"Usinagem em baixo relevo",value:"LOW_RELIEF_MACHINING"},{label:"LASER",value:"LASER"},{label:"Eletroqu\xedmica",value:"ELECTROCHEMISTRY"}],Oe=function(e){var t=e.marking,a=e.setMarking,n=r.a.useState(ye[0]),i=Object(m.a)(n,2),o=i[0],c=i[1];return r.a.useEffect(function(){c(ye.find(function(e){return e.value===t}))},[t]),r.a.createElement(q.a,{container:!0,spacing:2},r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(b.a,{color:"primary",variant:"h6"},"Grava\xe7\xe3o")),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(ee.a,{value:o,options:ye,onChange:function(e){a(e.value)}})))};var we=["STANDARD","MEASUREMENT_3D"];function xe(e){return"MEASUREMENT_3D"===e?"Medi\xe7\xe3o Tridimensional":"Padr\xe3o"}var je=function(e){var t=e.report,a=e.setReport,n=r.a.useState(we[0]),i=Object(m.a)(n,2),o=i[0],c=i[1];return r.a.useEffect(function(){c(t||we[0])},[t]),r.a.createElement(q.a,{container:!0,spacing:1},r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(b.a,{variant:"h6",color:"primary"},"Tipo de relat\xf3rio")),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(ce.a,{component:"fieldset",fullWidth:!0},r.a.createElement(ue.a,{value:o,onChange:function(e){a(e.target.value)}},r.a.createElement(q.a,{container:!0,spacing:1},we.map(function(e){return r.a.createElement(q.a,{item:!0,xs:12,key:"select-report-"+e},r.a.createElement(oe.a,{value:e,control:r.a.createElement(le.a,null),label:xe(e)}))}))))))};var Ie=["NO","YES"];function Se(e){return"YES"===e?"Sim":"N\xe3o"}var Ne=function(e){var t=e.knurled,a=e.setKnurled,n=r.a.useState(Ie[0]),i=Object(m.a)(n,2),o=i[0],c=i[1];return r.a.useEffect(function(){c(!0===t?"YES":"NO")},[t]),r.a.createElement(q.a,{container:!0,spacing:1},r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(b.a,{variant:"h6",color:"primary"},"Possui recartilhado?")),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(ce.a,{component:"fieldset",fullWidth:!0},r.a.createElement(ue.a,{value:o,onChange:function(e){a("YES"===e.target.value)}},r.a.createElement(q.a,{container:!0,spacing:1},Ie.map(function(e){return r.a.createElement(q.a,{item:!0,xs:12,key:"select-knurled-"+e},r.a.createElement(oe.a,{value:e,control:r.a.createElement(le.a,null),label:Se(e)}))}))))))};a(107);var Ce=Object(B.a)({dialogContent:{padding:0,minHeight:"calc(100vh - 14rem)",maxHeight:"calc(100vh - 14rem)",overflowY:"hidden"},contentContainer:{height:"100%"},configItem:{height:"100%",overflowY:"auto"},configContainer:{padding:"0 1rem",width:"100%","& > *":{padding:"0.8rem 0"}},auxItem:{backgroundColor:"#eeeeee80",height:"100%"}})(function(e){var t=e.classes,a=e.item,n=e.open,i=e.onCancel,o=r.a.useState(a.material_type),c=Object(m.a)(o,2),l=c[0],u=c[1],s=r.a.useState(a.heat_treatment),f=Object(m.a)(s,2),p=f[0],d=f[1],E=r.a.useState(a.superficial_treatment),v=Object(m.a)(E,2),h=v[0],g=v[1],y=r.a.useState(a.tolerance),O=Object(m.a)(y,2),w=O[0],x=O[1],j=r.a.useState(a.finishing),I=Object(m.a)(j,2),S=I[0],N=I[1],C=r.a.useState(a.screw),T=Object(m.a)(C,2),k=T[0],_=T[1],M=r.a.useState(a.marking),L=Object(m.a)(M,2),D=L[0],A=L[1],W=r.a.useState(a.knurled),J=Object(m.a)(W,2),z=J[0],H=J[1],B=r.a.useState(a.report),F=Object(m.a)(B,2),G=F[0],U=F[1],Z=r.a.useContext(P).savePartConfigChanges;r.a.useEffect(function(){var e=a.material_type,t=a.heat_treatment,n=a.superficial_treatment;l.id===e.id?(d(t),g(n)):(d(null),g(null))},[a,l]);var ee=Object(K.a)("(max-width:600px)"),te=a.material_type.id!==l.id||JSON.stringify(p)!==JSON.stringify(a.heat_treatment)||JSON.stringify(h)!==JSON.stringify(a.superficial_treatment)||w!==a.tolerance||S!==a.finishing||JSON.stringify(k)!==JSON.stringify(a.screw)||D!==a.marking||G!==a.report||z!==a.knurled,ae=[r.a.createElement(ne,{materialType:l,setMaterialType:u}),r.a.createElement(re,{heatTreatment:p,setHeatTreatment:d,materialTypeId:l.id}),r.a.createElement(ie,{superficialTreatment:h,setSuperficialTreatment:g,materialTypeId:l.id}),r.a.createElement(fe,{finishing:S,setFinishing:N}),r.a.createElement(Ee,{tolerance:w,setTolerance:x}),r.a.createElement(be,{screw:k,setScrew:_}),r.a.createElement(Oe,{marking:D,setMarking:A}),r.a.createElement(Ne,{knurled:z,setKnurled:H}),r.a.createElement(je,{report:G,setReport:U})];return r.a.createElement(X.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,fullWidth:!0,fullScreen:ee,maxWidth:"md",open:n},r.a.createElement(V.a,{color:"primary",disableTypography:!0},r.a.createElement(b.a,{variant:"h6",color:"primary"},a.name)),r.a.createElement($.a,{className:t.dialogContent},r.a.createElement(q.a,{container:!0,className:t.contentContainer},r.a.createElement(q.a,{className:t.configItem,item:!0,xs:7},r.a.createElement(q.a,{className:t.configContainer,container:!0},ae.map(function(e,t){return r.a.createElement(r.a.Fragment,{key:"edit-component-"+t},r.a.createElement(q.a,{item:!0,xs:12},e),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(Y.a,{light:!0})))}))),r.a.createElement(q.a,{className:t.auxItem,item:!0,xs:5},r.a.createElement("p",null,"upload & info")))),r.a.createElement(Q.a,null,r.a.createElement(R.a,{color:"primary",onClick:i},"Cancelar"),r.a.createElement(R.a,{color:"primary",disabled:!te,onClick:function(){Z({part_id:a.id,material_type_id:l.id,heat_treatment_id:p?p.id:null,superficial_treatment_id:h?h.id:null,tolerance:w,finishing:S,screw:k,marking:D,knurled:z,report:G,amount:a.amount}),i()}},"Salvar")))});var Te=Object(y.a)({headerContainer:{padding:"0.5rem 1rem"},itemName:{fontSize:"1.2rem",fontWeight:"bold"},buttonIcon:{fontSize:"1.2rem",marginRight:"0.3rem"}})(function(e){var t=e.classes,a=e.index,n=e.item,i=r.a.useState(!1),o=Object(m.a)(i,2),c=o[0],l=o[1],u=r.a.useContext(P),s=u.itemsLoading,f=u.removeItem;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",className:t.headerContainer},r.a.createElement(q.a,{item:!0,className:t.itemName},n.name),r.a.createElement(q.a,{item:!0},r.a.createElement(q.a,{container:!0,spacing:1},r.a.createElement(q.a,{item:!0},r.a.createElement(R.a,{disabled:s,color:"primary",onClick:function(){l(!0)},size:"small",title:"Editar pe\xe7a"},r.a.createElement(G.a,{className:t.buttonIcon,size:"small"}),"Editar")),r.a.createElement(q.a,{item:!0},r.a.createElement(R.a,{disabled:s,color:"primary",onClick:function(){window.confirm("Remover pe\xe7a?")&&f(a)},size:"small",title:"Remover pe\xe7a"},r.a.createElement(Z.a,{className:t.buttonIcon,size:"smal"}),"Remover"))))),r.a.createElement(Ce,{item:n,open:c,onCancel:function(){l(!1)}}))});var ke={container:{color:O.main,fontSize:"0.85rem","& > *:first-child":{paddingRight:"0.3rem"}},containerLabel:{fontWeight:"bold"}},_e=Object(y.a)(ke)(function(e){var t=e.classes,a=e.label,n=e.value,i=n;return n||0===n||(i=String.fromCharCode(8213)),r.a.createElement(q.a,{className:t.container,container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(q.a,{item:!0,className:t.containerLabel},"".concat(a,":")),r.a.createElement(q.a,{item:!0},i))});function Re(e){if(!e)return e;var t=e.type,a=e.amount;return"EXTERNAL"===t?"Rosca externa":"".concat(a," rosca(s) interna(s)")}function Pe(e){switch(e){case"TIPED":return"Tipada";case"ELETRIC_PNEUMATIC_PEN":return"Caneca el\xe9trica/pneum\xe1tica";case"LOW_RELIEF_MACHINING":return"Usinagem em baixo relevo";case"LASER":return"LASER";case"ELECTROCHEMISTRY":return"Eletroqu\xedmica";default:return null}}var Me=Object(y.a)({summaryContainer:{padding:"0.5rem",height:"100%","& > *":{padding:"0.3rem"}}})(function(e){var t,a=e.classes,n=e.item,i=n.material_type,o=n.heat_treatment,c=n.superficial_treatment,l=n.tolerance,u=n.finishing,s=n.screw,m=n.marking,f=n.knurled,p=n.report,d=[{label:"Material",value:i.name},{label:"Tratamento t\xe9rmico",value:o?o.name:null},{label:"Tratamento superficial",value:c?c.name:null},{label:"Acabamento",value:se(u)},{label:"Menor toler\xe2ncia",value:pe(l)},{label:"Rosca",value:Re(s)},{label:"Grava\xe7\xe3o",value:Pe(m)},{label:"Recartilhado",value:f?"Sim":"N\xe3o"},{label:"Tipo de relat\xf3rio",value:(t=p,"MEASUREMENT_3D"===t?"Medi\xe7\xe3o Tridimensional":"Padr\xe3o")}];return r.a.createElement(q.a,{alignItems:"flex-start",className:a.summaryContainer,container:!0,direction:"column",justify:"flex-start",wrap:"wrap"},d.map(function(e){return r.a.createElement(q.a,{key:"quotation-item-config-summary-"+e.label,item:!0},r.a.createElement(_e,e))}))});function Le(e){var t=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),a=(parseInt(e,10)/100).toFixed(2);return t.format(a)}var De={footerContainer:{color:O.main,padding:"0.5rem 1rem"},amountLabel:{paddingRight:"0.5rem"},amountInput:{border:"1px solid ".concat(O.main,"80"),borderRadius:"0.5rem",padding:"0.15rem 0",maxWidth:"5rem",textAlign:"center"}},Ae=Object(y.a)(De)(function(e){var t=e.classes,a=e.item,n=a.amount,i=a.unit_price,o=r.a.useState(n),c=Object(m.a)(o,2),l=c[0],u=c[1],s=r.a.useContext(P),f=s.itemsLoading,p=s.savePartConfigChanges;function d(){""!==l&&l!==n&&p({part_id:a.id,material_type_id:a.material_type.id,heat_treatment_id:a.heat_treatment?a.heat_treatment.id:null,superficial_treatment_id:a.superficial_treatment?a.superficial_treatment.id:null,tolerance:a.tolerance,finishing:a.finishing,screw_amount:a.screw_amount,amount:l})}return r.a.createElement(q.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",className:t.footerContainer},r.a.createElement(q.a,{item:!0},r.a.createElement("span",{className:t.amountLabel},"Quantidade"),r.a.createElement("input",{className:t.amountInput,disabled:f,onBlur:d,onChange:function(e){var t=e.target.value;t=""===t?0:isNaN(t)?l:parseInt(t,10),u(t)},onKeyPress:function(e){"Enter"===e.key&&d()},type:"text",value:0!==l?l:""})),n>1?r.a.createElement(q.a,{item:!0},!f&&"".concat(Le(i),"/unidade")):null,r.a.createElement(q.a,{item:!0},f?r.a.createElement(J.a,{color:"primary",size:20}):"Subtotal ".concat(Le(i*n))))});a(109);var We={quotationItem:{backgroundColor:"#ffffff",border:"1px solid ".concat(w.primary.main),borderRadius:"0.5rem",color:O.main},contentGrid:{maxHeight:"12rem",minHeight:"12rem",maxWidth:"12rem",minWidth:"12rem"},itemImg:{maxHeight:"12rem",minHeight:"12rem",maxWidth:"12rem",minWidth:"12rem"},configSummary:{flexGrow:1,maxHeight:"12rem",minHeight:"12rem"}},Je=Object(y.a)(We)(function(e){var t=e.classes,a=e.index,n=e.item;return r.a.createElement(q.a,{container:!0,className:t.quotationItem},r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(Te,{index:a,item:n})),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(Y.a,{light:!0})),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(q.a,{container:!0},r.a.createElement(q.a,{item:!0,className:t.contentGrid},r.a.createElement("img",{alt:n.name,className:t.itemImg,src:"https://via.placeholder.com/500?text=IMAGEM+DA+PE\xc7A"})),r.a.createElement(q.a,{item:!0,className:t.configSummary},r.a.createElement(Me,{item:n})))),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(Y.a,{light:!0})),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(Ae,{item:n})))});a(110);var ze=Object(B.a)({uploadIcon:{color:"rgba(36, 47, 64, 0.1)",fontSize:"20rem"},emptyMessage:{color:"rgba(36, 47, 64, 0.1)",fontSize:"2rem"},loadingGrid:{height:"50vh"},basketGrid:{position:"sticky",bottom:"-0.35rem",marginBottom:"0.25rem",marginLeft:"0.25rem",marginRight:"0.25rem"}})(function(e){var t=e.classes,a=r.a.useContext(P),n=a.items,i=a.itemsLoading;return n&&0!==n.length||i?n&&0!==n.length||!i?r.a.createElement(q.a,{container:!0,spacing:1},n.map(function(e,t){return r.a.createElement(q.a,{key:"quotation-item-list__item-"+t,item:!0,xs:12},r.a.createElement(Je,{index:t,item:e}))})):r.a.createElement(q.a,{className:t.loadingGrid,container:!0,justify:"center",alignItems:"center"},r.a.createElement(q.a,{item:!0},r.a.createElement(J.a,{color:"primary",size:80}))):r.a.createElement(q.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(H.a,{className:t.uploadIcon})),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement("span",{className:t.emptyMessage},"Fa\xe7a upload do seu arquivo!")))}),He=Object(n.createContext)(),qe=a(16),Be=a(19),Ye=a(17),Fe=a(20),Ge=a(84),Ue=function(e){function t(e,a){var n;return Object(qe.a)(this,t),(n=Object(Be.a)(this,Object(Ye.a)(t).call(this,e))).status=a,n}return Object(Fe.a)(t,e),t}(Object(Ge.a)(Error));function Ze(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(k.a)(C.a.mark(function e(t,a){var n,r,i,o,c;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.ok,e.next=4,t.json();case 4:if(r=e.sent,i=r.data,o=r.errors,n){e.next=17;break}if(o&&0!==o.length){e.next=10;break}throw new Ue("Houve um erro",500);case 10:if(!((c=o[0].extensions)&&c.message&&c.status)){e.next=15;break}throw new Ue(c.message,c.status);case 15:throw console.error("Error message:",o[0].message),new Ue("Houve um erro",500);case 17:return e.abrupt("return",{data:i[a],error:null});case 20:return e.prev=20,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{data:null,error:{status:e.t0.status,message:e.t0.message}});case 24:case"end":return e.stop()}},e,null,[[0,20]])}))).apply(this,arguments)}var Ve="\nquery RootQuery {\n\tmaterials {\n\t\tid\n\t\tname\n\t\tmaterial_types {\n\t\t\tid\n\t\t\tname\n\t\t\theat_treatments {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t}\n\t\t\tsuperficial_treatments {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t}\n\t\t}\n\t}\n}\n".trim();function $e(){return($e=Object(k.a)(C.a.mark(function e(){var t;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/graphql",{method:"post",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify({query:Ve})});case 3:return t=e.sent,e.next=6,Ze(t,"materials");case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{data:null,error:{status:500,message:"Houve um error"}});case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}var Qe="\nmutation RootMutation($input: PartOptionsInputType!) {\n\tchangePartOptions(input: $input) {\n\t\tid\n\t\tname\n\t\tmaterial_type {\n\t\t\tid\n\t\t\tname\n\t\t}\n\t\theat_treatment {\n\t\t\tid\n\t\t\tname\n\t\t}\n\t\tsuperficial_treatment {\n\t\t\tid\n\t\t\tname\n\t\t}\n\t\ttolerance\n\t\tfinishing\n\t\tscrew {\n\t\t\ttype\n\t\t\tamount\n\t\t}\n\t\tamount\n\t\tunit_price\n\t}\n}\n".trim();"\nmutation RootMutation($input: PartBatchInfoInputType!) {\n\tpartBatchInfo(input: $input) {\n\t\tsubtotal\n\t\tdelivery {\n\t\t\tprice\n\t\t\tat\n\t\t}\n\t}\n}\n".trim();function Ke(){return(Ke=Object(k.a)(C.a.mark(function e(t){var a;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/graphql",{method:"post",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify({query:Qe,variables:{input:t}})});case 3:return a=e.sent,e.next=6,Ze(a,"changePartOptions");case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{data:null,error:{status:500,message:"Houve um error"}});case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}a(111);var et=Array(0).fill(JSON.parse('{"id":"956068e4-5a44-4ffd-a0b0-53ed1f3bcd96","name":"test.stp","material_type":{"id":"812b20bd-1980-4b01-b973-1e27cc75e478","name":"Alum\xednio Fundido SAE 323 T6"},"heat_treatment":null,"superficial_treatment":null,"tolerance":null,"finishing":null,"screw":null,"marking":null,"knurled":null,"report":null,"amount":1,"unit_price":27590}')),tt=function(){var e=r.a.useState(et),t=Object(m.a)(e,2),a=t[0],n=t[1],i=r.a.useState(!1),o=Object(m.a)(i,2),c=o[0],l=o[1],u=r.a.useState([]),s=Object(m.a)(u,2),f=s[0],p=s[1],d=r.a.useContext(He).handleOpenSnackbar;return r.a.useEffect(function(){(function(){return $e.apply(this,arguments)})().then(function(e){var t=e.data;e.error||p(t)})},[]),r.a.createElement(P.Provider,{value:{items:a,itemsLoading:c,setItemsLoading:l,savePartConfigChanges:function(e){l(!0),function(e){return Ke.apply(this,arguments)}(e).then(function(t){var r=t.data,i=t.error;if(r){var o=a.map(function(t){return t.id===e.part_id?r:t});n(o),d("Atualiza\xe7\xe3o com sucesso")}else i&&d(i.message)}).finally(function(){l(!1)})},addItem:function(e){n([].concat(Object(I.a)(a),[e]))},removeItem:function(e){var t=a.filter(function(t,a){return a!==e});n(t)},materials:f}},r.a.createElement(S.a,{className:"quotation-view__container",maxWidth:"lg"},r.a.createElement(ze,null),r.a.createElement(W,null)))},at="\nmutation RootMutation($input: LoginInputType!) {\n\tlogin (input: $input) {\n\t\tname\n\t\temail\n\t\tjwt\n\t\taddresses {\n\t\t\tid\n\t\t\tstate\n\t\t\tmunicipality\n\t\t\taddress\n\t\t\taddress_number\n\t\t\tcomplement\n\t\t\tpostcode\n\t\t}\n\t}\n}\n".trim(),nt="\nmutation RootMutation($input: RegisterUserInputType!) {\n\tregisterUser (input: $input) {\n\t\tname\n\t\temail\n\t\tjwt\n\t\taddresses {\n\t\t\tid\n\t\t\tstate\n\t\t\tmunicipality\n\t\t\taddress\n\t\t\taddress_number\n\t\t\tcomplement\n\t\t\tpostcode\n\t\t}\n\t}\n}\n".trim();function rt(){return(rt=Object(k.a)(C.a.mark(function e(t,a){var n;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/graphql",{method:"post",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify({query:at,variables:{input:{email:t,password:a}}})});case 3:return n=e.sent,e.next=6,Ze(n,"login");case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),console.warn(e.t0),e.t0;case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function it(){return(it=Object(k.a)(C.a.mark(function e(t,a,n,r,i){var o;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/graphql",{method:"post",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify({query:nt,variables:{input:{name:t,phone_number:a,email:n,password:r,addresses:i}}})});case 3:return o=e.sent,e.next=6,Ze(o,"registerUser");case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),console.warn(e.t0),e.t0;case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function ot(){return"localStorage"in window}function ct(e,t,a){!function(e){ot()&&window.localStorage.setItem("userName",e)}(e),function(e){ot()&&window.localStorage.setItem("userEmail",e)}(t),function(e){ot()&&window.localStorage.setItem("userJwt",e)}(a)}function lt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ut(e,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mech4u",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise(function(a,n){"indexedDB"in window||(console.error("Browser doesn't support indexedDB"),n(new Error("Browser doesn't support indexedDB")));var r=window.indexedDB.open(e,t);r.onerror=function(e){console.error("Error opening indexedDB",r.error),n(r.error)},r.onsuccess=function(e){a(e.target.result)},r.onupgradeneeded=function(e){var t=e.target.result.createObjectStore("userAddress",{keyPath:"id"});t.createIndex("userEmail","userEmail",{unique:!1}),t.createIndex("id","id",{unique:!0})}})}().then(function(a){return new Promise(function(n,r){var i=a.transaction("userAddress","readwrite").objectStore("userAddress");t.forEach(function(t){var a=i.put(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?lt(a,!0).forEach(function(t){Object(T.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({userEmail:e},t));a.onerror=function(e){console.error(a.error),r(a.error)},a.onsuccess=function(e){n()}})})}).catch(function(e){return Promise.resolve()})}a(112);var st=function(){var e=r.a.useState(null),t=Object(m.a)(e,2),a=t[0],n=t[1],i=r.a.useState(!1),o=Object(m.a)(i,2),c=o[0],l=o[1],u=r.a.useState(!1),s=Object(m.a)(u,2),E=s[0],h=s[1],g=r.a.useState(""),b=Object(m.a)(g,2),y=b[0],O=b[1];function w(e){O(e),h(!0)}function x(){h(!1)}return r.a.useEffect(function(){n(JSON.parse('{"data":{"login":{"name":"Davi Souza","email":"ddas.souza@gmail.com","jwt":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjQzMGU1YjdlLTE4ZmEtNDU3Ny1iYjFjLTJmYmIyNDIxYjgxMCIsIm5hbWUiOiJEYXZpIFNvdXphIiwiZW1haWwiOiJkZGFzLnNvdXphQGdtYWlsLmNvbSIsInBob25lX251bWJlciI6IjEyOTgxNzY0NTkzIiwiY3JlYXRlZEF0IjoiMjAxOS0wOS0xN1QxNzo0Njo0OC4zNDZaIiwidXBkYXRlZEF0IjoiMjAxOS0wOS0xN1QxNzo0Njo0OC4zNDZaIiwiZGVsZXRlZEF0IjpudWxsLCJhZGRyZXNzZXMiOlt7ImlkIjoiOGRjMWY3MWQtODlhMS00ZTg0LTgwYWUtMTI2MzVjNjJmOTdkIiwic3RhdGUiOiJTUCIsIm11bmljaXBhbGl0eSI6IlPDo28gSm9zw6kgZG9zIENhbXBvcyIsImFkZHJlc3MiOiJSdWEgUmVwdWJsaWNhIGRvIElyYXF1ZSIsImFkZHJlc3NfbnVtYmVyIjo4MCwiY29tcGxlbWVudCI6IkFwdCA2NEIiLCJwb3N0Y29kZSI6IjEyMjE2LTU0MCJ9XSwiaWF0IjoxNTY5ODM2Njc3LCJleHAiOjE1NzI0Mjg2Nzd9.hqDc7kh_jF10pRceaHUt2_2a9gKI68lP1AsTMvPDN70","addresses":[{"id":"8dc1f71d-89a1-4e84-80ae-12635c62f97d","state":"SP","municipality":"S\xe3o Jos\xe9 dos Campos","address":"Rua Republica do Iraque","address_number":80,"complement":"Apt 64B","postcode":"12216-540"}]}}}'))},[]),r.a.createElement(He.Provider,{value:{user:a,userLoading:c,userLogin:function(e,t){l(!0),function(e,t){return rt.apply(this,arguments)}(e,t).then(function(e){var t=e.data,a=e.error;a?500!==a.status?w(a.message):w("Houve um erro"):t?(n(t),ct(t.name,t.email,t.jwt),ut(t.email,t.addresses)):w("Houve um erro")}).catch(console.error).finally(function(){l(!1)})},userRegister:function(e,t,a,r,i){(function(e,t,a,n,r){return it.apply(this,arguments)})(e,t,a,r,i).then(function(e){var t=e.data,a=e.error;a?500!==a.status?w(a.message):w("Houve um erro"):t?(n(t),ct(t.name,t.email,t.jwt),ut(t.email,t.addresses)):w("Houve um erro")}).catch(console.error)},handleOpenSnackbar:w}},r.a.createElement(j,null),r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/quotation",component:tt}),r.a.createElement(f.b,{render:function(){return r.a.createElement(f.a,{to:"/quotation"})}})),r.a.createElement(p.a,{anchorOrigin:{vertical:"top",horizontal:"left"},open:E,autoHideDuration:5e3,onClose:x,message:r.a.createElement("span",{id:"message-id"},y),action:r.a.createElement(d.a,{color:"inherit",onClick:x},r.a.createElement(v.a,null))}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(115),a(116);var mt=Object(l.a)({palette:{primary:O,secondary:{light:"#ffd56b",main:"#cca43b",dark:"#987600",contrastText:"#000000"}}});o.a.render(r.a.createElement(c.a,null,r.a.createElement(u.a,{theme:mt},r.a.createElement(s.a,null),r.a.createElement(st,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},97:function(e,t,a){e.exports=a(117)}},[[97,1,2]]]);
//# sourceMappingURL=main.2104c64a.chunk.js.map