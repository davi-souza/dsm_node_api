(window.webpackJsonpplatform=window.webpackJsonpplatform||[]).push([[0],{103:function(e,t,a){e.exports=a(126)},112:function(e,t,a){},113:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},124:function(e,t,a){},126:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),c=a.n(i),o=a(69),l=a(88),u=a(187),s=a(196),m=a(6),p=a(41),f=a(193),d=a(176),E=a(87),v=a.n(E),g=a(169),b=a(171),h=a(72),y={appBar:{backgroundColor:"transparent",color:"rgba(69, 90, 100, 0.8)",marginBottom:"1rem"}};var O=function(){return r.a.createElement(g.a,{elevation:0,position:"static",style:y.appBar},r.a.createElement(b.a,null,r.a.createElement(h.a,{variant:"h6"},"Mech4u")))},x=a(19),j=a(186),w=a(15),S=a.n(w),_=a(3),N=a(26),I=a(189),C=a(172),k=a(7),T=Object(n.createContext)();function R(e){return P.apply(this,arguments)}function P(){return(P=Object(N.a)(S.a.mark(function e(t){var a,n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),e.prev=2,e.next=5,fetch("/api/file/upload",{method:"POST",body:a});case 5:if((n=e.sent).ok){e.next=8;break}return e.abrupt("return",{data:null,error:{status:n.status,message:"N\xe3o foi poss\xedvel fazer upload do arquivo"}});case 8:return e.next=10,n.json();case 10:return r=e.sent,e.abrupt("return",{data:r,error:null});case 14:return e.prev=14,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",{data:null,error:{status:500,message:"N\xe3o foi poss\xedvel fazer upload do arquivo"}});case 18:case"end":return e.stop()}},e,null,[[2,14]])}))).apply(this,arguments)}a(112);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(a,!0).forEach(function(t){Object(_.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var L=Object(k.a)({uploadButton:{fontSize:"1.25rem",height:"5rem"}})(function(e){var t=e.classes,a=r.a.useRef(null),n=r.a.useContext(T),i=n.itemsLoading,c=n.setItemsLoading,o=n.addItem;function l(){return(l=Object(N.a)(S.a.mark(function e(t){var a,n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,R(t.target.files[0]);case 4:a=e.sent,n=a.data,o(q({},n.part)),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return e.prev=11,c(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[1,9,11,14]])}))).apply(this,arguments)}return r.a.createElement(I.a,{component:"div",id:"quotation-upload-wrapper"},r.a.createElement("input",{type:"file",name:"file",id:"quotation-upload-input",ref:a,onChange:function(e){return l.apply(this,arguments)}}),r.a.createElement(C.a,{color:"primary",className:t.uploadButton,disabled:i,fullWidth:!0,onClick:function(){a.current.click()},variant:"text"},"Adicionar Arquivo"))}),A=a(184),M=a(85),J=a.n(M),W=a(173),B=a(128),z=a(182),F=a(83),Y=a.n(F),H=a(84),G=a.n(H),Z=a(194),X=a(180),$=a(181),U=a(183),K=a(179),Q=a(40);function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(a,!0).forEach(function(t){Object(_.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var te=function(e){var t=e.materialType,a=e.setMaterialType,n=r.a.useState(null),i=Object(m.a)(n,2),c=i[0],o=i[1],l=r.a.useState([]),u=Object(m.a)(l,2),s=u[0],p=u[1],f=r.a.useContext(T).materials;return r.a.useEffect(function(){var e=t.id,a=t.name;o({label:a,value:e})},[t]),r.a.useEffect(function(){p(f.map(function(e){return e.material_types.map(function(e){return{label:e.name,value:e.id}})}).flat(1))},[f]),r.a.createElement(W.a,{container:!0,spacing:2},r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(h.a,{color:"primary",variant:"h6"},"Material")),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(Q.a,{value:c,options:s,onChange:function(e){a(function(e,t){var a=!0,n=!1,r=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var o=i.value,l=!0,u=!1,s=void 0;try{for(var m,p=o.material_types[Symbol.iterator]();!(l=(m=p.next()).done);l=!0){var f=m.value;if(f.id===t)return ee({},f)}}catch(d){u=!0,s=d}finally{try{l||null==p.return||p.return()}finally{if(u)throw s}}}}catch(d){n=!0,r=d}finally{try{a||null==c.return||c.return()}finally{if(n)throw r}}}(f,e.value))}})))};var ae=function(e){var t=r.a.useState([]),a=Object(m.a)(t,2),n=a[0],i=a[1],c=r.a.useState(null),o=Object(m.a)(c,2),l=o[0],u=o[1],s=r.a.useState([]),p=Object(m.a)(s,2),f=p[0],d=p[1],E=r.a.useContext(T).materials,v=e.materialTypeId,g=e.heatTreatment,b=e.setHeatTreatment;return r.a.useEffect(function(){i(function(e,t){var a=!0,n=!1,r=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var o=i.value,l=!0,u=!1,s=void 0;try{for(var m,p=o.material_types[Symbol.iterator]();!(l=(m=p.next()).done);l=!0){var f=m.value;if(f.id===t)return Object(x.a)(f.heat_treatments)}}catch(d){u=!0,s=d}finally{try{l||null==p.return||p.return()}finally{if(u)throw s}}}}catch(d){n=!0,r=d}finally{try{a||null==c.return||c.return()}finally{if(n)throw r}}}(E,v))},[v,E]),r.a.useEffect(function(){d([{label:"Nenhum",value:null}].concat(n.map(function(e){return{label:e.name,value:e.id}})))},[n]),r.a.useEffect(function(){u(g?{label:g.name,value:g.id}:{label:"Nenhum",value:null})},[g]),r.a.createElement(W.a,{container:!0,spacing:2},r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(h.a,{color:"primary",variant:"h6"},"Tratamento T\xe9rmico")),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(Q.a,{value:l,options:f,onChange:function(e){null===e.value?b(null):b(n.find(function(t){return t.id===e.value}))}})))};var ne=function(e){var t=r.a.useState([]),a=Object(m.a)(t,2),n=a[0],i=a[1],c=r.a.useState(null),o=Object(m.a)(c,2),l=o[0],u=o[1],s=r.a.useState([]),p=Object(m.a)(s,2),f=p[0],d=p[1],E=r.a.useContext(T).materials,v=e.materialTypeId,g=e.superficialTreatment,b=e.setSuperficialTreatment;return r.a.useEffect(function(){i(function(e,t){var a=!0,n=!1,r=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var o=i.value,l=!0,u=!1,s=void 0;try{for(var m,p=o.material_types[Symbol.iterator]();!(l=(m=p.next()).done);l=!0){var f=m.value;if(f.id===t)return Object(x.a)(f.superficial_treatments)}}catch(d){u=!0,s=d}finally{try{l||null==p.return||p.return()}finally{if(u)throw s}}}}catch(d){n=!0,r=d}finally{try{a||null==c.return||c.return()}finally{if(n)throw r}}}(E,v))},[v,E]),r.a.useEffect(function(){d([{label:"Nenhum",value:null}].concat(n.map(function(e){return{label:e.name,value:e.id}})))},[n]),r.a.useEffect(function(){u(g?{label:g.name,value:g.id}:{label:"Nenhum",value:null})},[g]),r.a.createElement(W.a,{container:!0,spacing:2},r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(h.a,{color:"primary",variant:"h6"},"Tratamento Superficial")),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(Q.a,{value:l,options:f,onChange:function(e){null===e.value?b(null):b(n.find(function(t){return t.id===e.value}))}})))},re=a(175),ie=a(174),ce=a(190),oe=a(197);function le(e){switch(e){case"RECTIFIED":return"Retificado - 1.6 Ra";case"POLISHED":return"Polido - 0.8 Ra";default:return"Padr\xe3o - 3.2 Ra"}}var ue=["STANDARD","RECTIFIED","POLISHED"],se=function(e){var t=e.finishing,a=e.setFinishing,n=r.a.useState(ue[0]),i=Object(m.a)(n,2),c=i[0],o=i[1];return r.a.useEffect(function(){o(null===t?ue[0]:t)},[t]),r.a.createElement(W.a,{container:!0,spacing:1},r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(h.a,{variant:"h6",color:"primary"},"Acabamento")),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(ie.a,{component:"fieldset",fullWidth:!0},r.a.createElement(oe.a,{value:c,onChange:function(e){a(e.target.value)}},r.a.createElement(W.a,{container:!0,spacing:1},ue.map(function(e){return r.a.createElement(W.a,{item:!0,xs:12,sm:4,key:"select-finishing-"+e},r.a.createElement(re.a,{value:e,control:r.a.createElement(ce.a,null),label:le(e)}))}))))))},me=a(188),pe=a(178);var fe=function(e){var t=e.tolerance,a=e.setTolerance;return r.a.createElement(W.a,{container:!0},r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(W.a,{container:!0,alignItems:"flex-start"},r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(h.a,{variant:"h6",color:"primary"},"Menor Toler\xe2ncia")),r.a.createElement(W.a,{item:!0,xs:12,className:"quotation-item-edit__tolerance-finishing-grid"},r.a.createElement(me.a,{InputProps:{startAdornment:r.a.createElement(pe.a,{position:"start"},"0."),endAdornment:r.a.createElement(pe.a,{position:"end"},"mm")},onChange:function(e){var t=e.target.value;/^\d*$/.test(t)&&a(t)},type:"text",value:null!==t?t:""})))))};function de(e){return"INTERNAL"===e?"Interna":"EXTERNAL"===e?"Externa":"Nenhuma"}var Ee=["NONE","EXTERNAL","INTERNAL"],ve=function(e){var t=e.screw,a=e.setScrew,n=r.a.useState(Ee[0]),i=Object(m.a)(n,2),c=i[0],o=i[1];return r.a.useEffect(function(){o(null===t?Ee[0]:Ee.find(function(e){return e===t.type}))},[t]),r.a.createElement(W.a,{container:!0},r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(W.a,{container:!0},r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(h.a,{variant:"h6",color:"primary"},"Roscas")),r.a.createElement(W.a,{item:!0,xs:12,sm:6},r.a.createElement(ie.a,{component:"fieldset",fullWidth:!0},r.a.createElement(oe.a,{value:c,onChange:function(e){var n=e.target.value;a("NONE"===n?null:{type:n,amount:t&&"INTERNAL"===n?t.amount:0})}},r.a.createElement(W.a,{container:!0,spacing:1},Ee.map(function(e){return r.a.createElement(W.a,{item:!0,xs:12,sm:4,key:"select-screw-type-"+e},r.a.createElement(re.a,{value:e,control:r.a.createElement(ce.a,null),label:de(e)}))}))))),r.a.createElement(W.a,{item:!0,xs:12,sm:6},r.a.createElement(me.a,{disabled:null===t||"EXTERNAL"===t.type,error:!(!t||"INTERNAL"!==t.type)&&0===t.amount,helperText:t&&"INTERNAL"===t.type&&0===t.amount?"N\xfamero deve ser maior ou igual a 1":"",onChange:function(e){var n=t?t.amount:0,r=e.target.value;r=""===r?0:isNaN(r)?n:parseInt(r,10),a({type:t.type,amount:r})},type:"text",value:t&&0!==t.amount?t.amount.toString():""})))))};var ge=[{label:"Nenhuma",value:null},{label:"Tipada",value:"TIPED"},{label:"Caneca el\xe9trica/pneum\xe1tica",value:"ELETRIC_PNEUMATIC_PEN"},{label:"Usinagem em baixo relevo",value:"LOW_RELIEF_MACHINING"},{label:"LASER",value:"LASER"},{label:"Eletroqu\xedmica",value:"ELECTROCHEMISTRY"}],be=function(e){var t=e.engraving,a=e.setEngraving,n=r.a.useState(null),i=Object(m.a)(n,2),c=i[0],o=i[1];return r.a.useEffect(function(){o(ge.find(function(e){return e.value===t}))},[t]),r.a.createElement(W.a,{container:!0,spacing:2},r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(h.a,{color:"primary",variant:"h6"},"Grava\xe7\xe3o")),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(Q.a,{value:c,options:ge,onChange:function(e){a(e.value)}})))};var he=["STANDARD","MEASUREMENT_3D"];function ye(e){return"MEASUREMENT_3D"===e?"Medi\xe7\xe3o Tridimensional":"Padr\xe3o"}var Oe=function(e){var t=e.report,a=e.setReport,n=r.a.useState(he[0]),i=Object(m.a)(n,2),c=i[0],o=i[1];return r.a.useEffect(function(){o(t||he[0])},[t]),r.a.createElement(W.a,{container:!0,spacing:1},r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(h.a,{variant:"h6",color:"primary"},"Tipo de relat\xf3rio")),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(ie.a,{component:"fieldset",fullWidth:!0},r.a.createElement(oe.a,{value:c,onChange:function(e){a(e.target.value)}},r.a.createElement(W.a,{container:!0,spacing:1},he.map(function(e){return r.a.createElement(W.a,{item:!0,xs:12,sm:4,key:"select-report-"+e},r.a.createElement(re.a,{value:e,control:r.a.createElement(ce.a,null),label:ye(e)}))}))))))};var xe=["NO","YES"];function je(e){return"YES"===e?"Sim":"N\xe3o"}var we=function(e){var t=e.knurled,a=e.setKnurled,n=r.a.useState(xe[0]),i=Object(m.a)(n,2),c=i[0],o=i[1];return r.a.useEffect(function(){o(!0===t?"YES":"NO")},[t]),r.a.createElement(W.a,{container:!0,spacing:1},r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(h.a,{variant:"h6",color:"primary"},"Possui recartilhado?")),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(ie.a,{component:"fieldset",fullWidth:!0},r.a.createElement(oe.a,{value:c,onChange:function(e){a("YES"===e.target.value)}},r.a.createElement(W.a,{container:!0,spacing:1},xe.map(function(e){return r.a.createElement(W.a,{item:!0,xs:12,sm:4,key:"select-knurled-"+e},r.a.createElement(re.a,{value:e,control:r.a.createElement(ce.a,null),label:je(e)}))}))))))};a(113);var Se=Object(B.a)({dialogContent:{padding:0,minHeight:"32rem",maxHeight:"32rem"},appBar:{backgroundColor:"#fff"},panels:{paddingTop:"1rem",paddingLeft:"0.5rem",paddingRight:"0.5rem"}})(function(e){var t=e.classes,a=e.item,n=e.open,i=e.onCancel,c=r.a.useState(a.material_type),o=Object(m.a)(c,2),l=o[0],u=o[1],s=r.a.useState(a.heat_treatment),p=Object(m.a)(s,2),f=p[0],d=p[1],E=r.a.useState(a.superficial_treatment),v=Object(m.a)(E,2),g=v[0],b=v[1],y=r.a.useState(a.tolerance),O=Object(m.a)(y,2),x=O[0],j=O[1],w=r.a.useState(a.finishing),S=Object(m.a)(w,2),_=S[0],N=S[1],I=r.a.useState(a.screw),k=Object(m.a)(I,2),R=k[0],P=k[1],D=r.a.useState(a.engraving),q=Object(m.a)(D,2),L=q[0],A=q[1],M=r.a.useState(a.knurled),J=Object(m.a)(M,2),B=J[0],F=J[1],Y=r.a.useState(a.report),H=Object(m.a)(Y,2),G=H[0],Q=H[1],V=r.a.useContext(T).savePartConfigChanges;r.a.useEffect(function(){var e=a.material_type,t=a.heat_treatment,n=a.superficial_treatment;l.id===e.id?(d(t),b(n)):(d(null),b(null))},[a,l]);var ee=Object(K.a)("(max-width:600px)"),re=a.material_type.id!==l.id||JSON.stringify(f)!==JSON.stringify(a.heat_treatment)||JSON.stringify(g)!==JSON.stringify(a.superficial_treatment)||x!==a.tolerance||_!==a.finishing||JSON.stringify(R)!==JSON.stringify(a.screw)||L!==a.engraving||G!==a.report||B!==a.knurled,ie=[r.a.createElement(te,{materialType:l,setMaterialType:u}),r.a.createElement(ae,{heatTreatment:f,setHeatTreatment:d,materialTypeId:l.id}),r.a.createElement(ne,{superficialTreatment:g,setSuperficialTreatment:b,materialTypeId:l.id}),r.a.createElement(se,{finishing:_,setFinishing:N}),r.a.createElement(fe,{tolerance:x,setTolerance:j}),r.a.createElement(ve,{screw:R,setScrew:P}),r.a.createElement(be,{engraving:L,setEngraving:A}),r.a.createElement(we,{knurled:B,setKnurled:F}),r.a.createElement(Oe,{report:G,setReport:Q})];return r.a.createElement(Z.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,fullWidth:!0,fullScreen:ee,maxWidth:"lg",open:n,scroll:"body"},r.a.createElement(X.a,{color:"primary",disableTypography:!0},r.a.createElement(h.a,{variant:"h6",color:"primary"},a.name)),r.a.createElement($.a,{className:t.dialogContent},r.a.createElement("div",{className:"quotation-item-edit__panels"},r.a.createElement(W.a,{container:!0,spacing:3},ie.map(function(e,t){return r.a.createElement(r.a.Fragment,{key:"edit-component-"+t},r.a.createElement(W.a,{item:!0,xs:12},e),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(z.a,{light:!0})))})))),r.a.createElement(U.a,null,r.a.createElement(C.a,{color:"primary",onClick:i},"Cancelar"),r.a.createElement(C.a,{color:"primary",disabled:!re,onClick:function(){var e;V({part_id:a.id,material_type_id:l.id,heat_treatment_id:f?f.id:null,superficial_treatment_id:g?g.id:null,tolerance:(e=x,e?parseFloat("0."+e):null),finishing:_,screw:R,engraving:L,knurled:B,report:G,amount:a.amount}),i()}},"Salvar")))});var _e=function(e){var t=e.index,a=e.item,n=r.a.useState(!1),i=Object(m.a)(n,2),c=i[0],o=i[1],l=r.a.useContext(T),u=l.itemsLoading,s=l.removeItem;return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",className:"quotation-item-header"},r.a.createElement(W.a,{item:!0,className:"quotation-item-header__part-name"},a.name),r.a.createElement(W.a,{className:"quotation-item-value"},r.a.createElement(d.a,{disabled:u,color:"primary",onClick:function(){o(!0)},title:"Editar pe\xe7a"},r.a.createElement(Y.a,null)),r.a.createElement(d.a,{disabled:u,color:"primary",onClick:function(){window.confirm("Remover pe\xe7a?")&&s(t)},title:"Remover pe\xe7a"},r.a.createElement(G.a,null)))),r.a.createElement(Se,{item:a,open:c,onCancel:function(){o(!1)}}))};var Ne=Object(k.a)({container:{color:"rgba(69, 90, 100, 0.7)",fontSize:"0.8rem"},containerLabel:{fontWeight:"bold"}})(function(e){var t=e.classes,a=e.label,n=e.value,i=n;return n||0===n||(i="N\xe3o informado"),r.a.createElement(W.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:t.container},r.a.createElement(W.a,{item:!0,xs:12,className:t.containerLabel},a),r.a.createElement(W.a,{item:!0,xs:12},i))});function Ie(e){return(parseInt(e,10)/100).toFixed(2)}var Ce=function(e){var t=e.item,a=t.amount,n=t.unit_price,i=r.a.useState(a),c=Object(m.a)(i,2),o=c[0],l=c[1],u=r.a.useContext(T),s=u.itemsLoading,p=u.savePartConfigChanges;function f(){""!==o&&o!==a&&p({part_id:t.id,material_type_id:t.material_type.id,heat_treatment_id:t.heat_treatment?t.heat_treatment.id:null,superficial_treatment_id:t.superficial_treatment?t.superficial_treatment.id:null,tolerance:t.tolerance,finishing:t.finishing,screw_amount:t.screw_amount,amount:o})}return r.a.createElement(W.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",className:"quotation-item-footer"},r.a.createElement(W.a,{item:!0,className:"quotation-item-footer__amount"},r.a.createElement("span",{className:"quotation-item-footer__amount-label"},"Quantidade"),r.a.createElement("input",{className:"quotation-item-footer__amount-value",disabled:s,onBlur:f,onChange:function(e){var t=e.target.value;/^\d*$/.test(t)&&(isNaN(t)||""===t||(t=parseInt(t,10)),l(t))},onKeyPress:function(e){"Enter"===e.key&&f()},type:"number",value:o})),r.a.createElement(W.a,{item:!0,className:"quotation-item-footer__unit-price"},s?r.a.createElement(A.a,{color:"primary",size:20}):"R$ ".concat(Ie(n),"/unidade")))};function ke(e){if(!e)return e;var t=e.type,a=e.amount;return"EXTERNAL"===t?"Rosca externa":"".concat(a," rosca(s) interna(s)")}a(115);var Te=function(e){var t=e.index,a=e.item,n=a.material_type,i=a.heat_treatment,c=a.superficial_treatment,o=a.tolerance,l=a.finishing,u=a.screw;return r.a.createElement("div",{className:"quotation-item"},r.a.createElement(_e,{index:t,item:a}),r.a.createElement(z.a,{light:!0}),r.a.createElement(W.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center",spacing:2,className:"quotation-item-config"},r.a.createElement(W.a,{item:!0,xs:6,sm:4,md:2},r.a.createElement(Ne,{label:"Material",value:n.name})),r.a.createElement(W.a,{item:!0,xs:6,sm:4,md:2},r.a.createElement(Ne,{label:"Tratamento t\xe9rmico",value:i?i.name:null})),r.a.createElement(W.a,{item:!0,xs:6,sm:4,md:2},r.a.createElement(Ne,{label:"Tratamento superficial",value:c?c.name:null})),r.a.createElement(W.a,{item:!0,xs:6,sm:4,md:2},r.a.createElement(Ne,{label:"Menor toler\xe2ncia",value:o})),r.a.createElement(W.a,{item:!0,xs:6,sm:4,md:2},r.a.createElement(Ne,{label:"Acabamento",value:le(l)})),r.a.createElement(W.a,{item:!0,xs:6,sm:4,md:2},r.a.createElement(Ne,{label:"Roscas",value:ke(u)}))),r.a.createElement(z.a,{light:!0}),r.a.createElement(Ce,{item:a}))},Re=Object(n.createContext)();a(116);function Pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var De=function(){var e=r.a.useState({email:"",password:""}),t=Object(m.a)(e,2),a=t[0],n=t[1],i=r.a.useState(!0),c=Object(m.a)(i,2),o=c[0],l=c[1],u=r.a.useContext(Re),s=u.userLoading,p=u.userLogin,f=u.handleOpenSnackbar;function d(e){n(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pe(a,!0).forEach(function(t){Object(_.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pe(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a,Object(_.a)({},e.target.name,e.target.value)))}return r.a.useEffect(function(){""!==a.email&&l(/^.+@.+\..+(\..+)*$/.test(a.email))},[a.email]),r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),o&&a.email?a.password?p(a.email,a.password):f("Por favor inserir uma senha"):f("E-mail inv\xe1lido")}},r.a.createElement(W.a,{container:!0,spacing:1},r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(me.a,{error:!o,fullWidth:!0,label:"E-mail",margin:"normal",name:"email",onChange:d,required:!0,type:"email",value:a.email})),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(me.a,{fullWidth:!0,label:"Senha",margin:"normal",name:"password",onChange:d,required:!0,type:"password",value:a.password})),r.a.createElement(W.a,{item:!0,xs:12},s?r.a.createElement(A.a,{color:"primary"}):r.a.createElement(C.a,{color:"primary",fullWidth:!0,type:"submit",value:"Log In",variant:"text"},"Log In"))))},qe=a(195),Le=a(185),Ae=a(192),Me=["Resumo do pedido","Entrega","Confirmar pedido"];var Je=function(e){var t=e.activeStep;return r.a.createElement(qe.a,{activeStep:t},Me.map(function(e){return r.a.createElement(Le.a,{key:"order-step-labe-"+e},r.a.createElement(Ae.a,null,e))}))};function We(e){var t=e.label,a=e.value;return r.a.createElement(W.a,{container:!0,spacing:1,className:"quotation-order-config"},r.a.createElement(W.a,{item:!0,className:"quotation-order-config__label"},"".concat(t,":")),r.a.createElement(W.a,{item:!0,className:"quotation-order-config__value"},a||"\u2014"))}var Be=function(e){var t=e.item,a=t.material_type,n=t.heat_treatment,i=t.superficial_treatment,c=t.tolerance,o=t.finishing,l=t.screw_amount,u=t.unit_price,s=t.amount;return r.a.createElement(W.a,{container:!0,spacing:1,className:"quotation-order__config-list"},r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(W.a,{container:!0,justify:"space-between",alignItems:"center",className:"quotation-order__item"},r.a.createElement(W.a,{item:!0,className:"quotation-order__item-name"},t.name),r.a.createElement(W.a,{item:!0,className:"quotation-order__item-whole-price"},"R$ ".concat(Ie(s*u))))),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(We,{label:"Material",value:a.name})),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(z.a,{light:!0})),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(We,{label:"Tratamento t\xe9rmico",value:n?n.name:null})),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(z.a,{light:!0})),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(We,{label:"Tratamento superficial",value:i?i.name:null})),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(z.a,{light:!0})),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(We,{label:"M\xednima toler\xe2ncia",value:c||null})),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(z.a,{light:!0})),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(We,{label:"Acabamento",value:le(o)})),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(z.a,{light:!0})),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(We,{label:"Roscas",value:l})),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(z.a,{light:!0})),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(We,{label:"Quantidade",value:s})),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(z.a,{light:!0})),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(We,{label:"Pre\xe7o por unidade",value:"R$ ".concat(Ie(u))})))};var ze=function(){var e=r.a.useContext(T).items;return r.a.createElement(W.a,{container:!0,spacing:1},e.map(function(e){return r.a.createElement(r.a.Fragment,{key:e.id},r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(Be,{item:e})),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(z.a,null)))}))},Fe=Object(n.createContext)();var Ye=["WORKINGDAYS_15","WORKINGDAYS_10"];var He=function(){var e=r.a.useContext(Fe),t=e.deliveryOption,a=e.setDeliveryOption,n=e.orderInfo,i=e.orderLoading;return r.a.createElement(W.a,{container:!0,spacing:1},r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(h.a,{color:"primary",variant:"subtitle1"},"Op\xe7\xf5es de data de entrega")),Ye.map(function(e){return r.a.createElement(W.a,{item:!0,xs:3,key:e},r.a.createElement(C.a,{color:"primary",disabled:i,fullWidth:!0,onClick:(n=e,function(e){a(n)}),variant:e===t?"outlined":"text"},function(e){var t=e.split("_")[1];return"".concat(t," dias \xfateis")}(e)));var n}),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(h.a,{color:"primary",variant:"subtitle1"},"Data prevista de entrega: ".concat(function(e){return e&&e.delivery&&e.delivery.at?new Date(e.delivery.at).toLocaleDateString("pt-BR"):""}(n)))))};var Ge=function(){var e=r.a.useContext(Fe).orderInfo;return r.a.createElement(W.a,{container:!0,spacing:1},r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(h.a,{color:"primary",variant:"subtitle1"},e?"Sub total das pe\xe7as: R$ ".concat(Ie(e.subtotal)):null)),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(h.a,{color:"primary",variant:"subtitle1"},e?"Custo de entrega: R$ ".concat(Ie(e.delivery.price)):null)),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(h.a,{color:"primary",variant:"h6"},e?"Total: R$ ".concat(Ie(e.subtotal+e.delivery.price)):null)))},Ze=[r.a.createElement(ze,null),r.a.createElement(He,null),r.a.createElement(Ge,null)];var Xe=function(e){return e<Ze.length?Ze[e]:null};var $e=function(e){var t=e.onCancel,a=e.isLoggedIn,n=e.activeStep,i=e.setActiveStep,c=e.maxStep;return r.a.createElement(W.a,{container:!0,justify:"space-between",alignItems:"center",spacing:1},a&&r.a.createElement(W.a,{item:!0},r.a.createElement(W.a,{container:!0,spacing:1},r.a.createElement(W.a,{item:!0},r.a.createElement(C.a,{color:"primary",disabled:0===n,onClick:function(){i(n-1)}},"Anterior")),r.a.createElement(W.a,{item:!0},n!==c-1?r.a.createElement(C.a,{color:"primary",onClick:function(){i(n+1)}},"Pr\xf3ximo"):r.a.createElement(C.a,{color:"primary",onClick:function(){alert("pedido feito")}},"Confirmar")))),r.a.createElement(W.a,{item:!0},r.a.createElement(C.a,{color:"primary",onClick:t,variant:"contained"},"Cancelar")))},Ue=a(16),Ke=a(20),Qe=a(17),Ve=a(21),et=a(89),tt=function(e){function t(e,a){var n;return Object(Ue.a)(this,t),(n=Object(Ke.a)(this,Object(Qe.a)(t).call(this,e))).status=a,n}return Object(Ve.a)(t,e),t}(Object(et.a)(Error));function at(e,t){return nt.apply(this,arguments)}function nt(){return(nt=Object(N.a)(S.a.mark(function e(t,a){var n,r,i,c,o;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.ok,e.next=4,t.json();case 4:if(r=e.sent,i=r.data,c=r.errors,n){e.next=17;break}if(c&&0!==c.length){e.next=10;break}throw new tt("Houve um erro",500);case 10:if(!((o=c[0].extensions)&&o.message&&o.status)){e.next=15;break}throw new tt(o.message,o.status);case 15:throw console.error("Error message:",c[0].message),new tt("Houve um erro",500);case 17:return e.abrupt("return",{data:i[a],error:null});case 20:return e.prev=20,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{data:null,error:{status:e.t0.status,message:e.t0.message}});case 24:case"end":return e.stop()}},e,null,[[0,20]])}))).apply(this,arguments)}var rt="\nmutation RootMutation($input: PartOptionsInputType!) {\n\tchangePartOptions(input: $input) {\n\t\tid\n\t\tname\n\t\tmaterial_type {\n\t\t\tid\n\t\t\tname\n\t\t}\n\t\theat_treatment {\n\t\t\tid\n\t\t\tname\n\t\t}\n\t\tsuperficial_treatment {\n\t\t\tid\n\t\t\tname\n\t\t}\n\t\ttolerance\n\t\tfinishing\n\t\tscrew {\n\t\t\ttype\n\t\t\tamount\n\t\t}\n\t\tamount\n\t\tunit_price\n\t}\n}\n".trim(),it="\nmutation RootMutation($input: PartBatchInfoInputType!) {\n\tpartBatchInfo(input: $input) {\n\t\tsubtotal\n\t\tdelivery {\n\t\t\tprice\n\t\t\tat\n\t\t}\n\t}\n}\n".trim();function ct(){return(ct=Object(N.a)(S.a.mark(function e(t){var a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/graphql",{method:"post",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify({query:rt,variables:{input:t}})});case 3:return a=e.sent,e.next=6,at(a,"changePartOptions");case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{data:null,error:{status:500,message:"Houve um error"}});case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function ot(){return(ot=Object(N.a)(S.a.mark(function e(t){var a,n,r=arguments;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:"WORKINGDAYS_15",e.prev=1,e.next=4,fetch("/api/graphql",{method:"post",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify({query:it,variables:{input:{parts:t,delivery:a}}})});case 4:return n=e.sent,e.next=7,at(n,"partBatchInfo");case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",{data:null,error:{status:500,message:"Houve um error"}});case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}a(117);function lt(e){return{part_id:e.id,material_type_id:e.material_type.id,heat_treatment_id:e.heat_treatment?e.heat_treatment.id:null,superficial_treatment_id:e.superficial_treatment?e.superficial_treatment.id:null,tolerance:e.tolerance,finishing:e.finishing,screw_amount:e.screw_amount,amount:e.amount}}var ut=Object(k.a)({dialogContent:{minHeight:"50vh",maxHeight:"50vh"}})(function(e){var t=e.classes,a=e.open,n=e.onCancel,i=r.a.useState(0),c=Object(m.a)(i,2),o=c[0],l=c[1],u=r.a.useState("WORKINGDAYS_15"),s=Object(m.a)(u,2),p=s[0],f=s[1],d=r.a.useState(null),E=Object(m.a)(d,2),v=E[0],g=E[1],b=r.a.useState(!0),h=Object(m.a)(b,2),y=h[0],O=h[1],x=r.a.useContext(Re),j=x.user,w=x.handleOpenSnackbar,S=r.a.useContext(T).items;r.a.useEffect(function(){a&&l(0)},[a]),r.a.useEffect(function(){a&&(O(!0),function(e){return ot.apply(this,arguments)}(S.map(lt),p).then(function(e){e.data?g(e.data):e.error&&(500===e.error.status?w("Houve um error"):w(e.error.message))}).finally(function(){O(!1)}))},[a,w,S,p]);var _=Object(K.a)("(max-width:600px)");return r.a.createElement(Z.a,{disableBackdropClick:!0,disableEscapeKeyDown:!1,fullWidth:!0,fullScreen:_,maxWidth:"md",open:a,scroll:"body"},r.a.createElement(X.a,{color:"primary",disableTypography:!0},r.a.createElement(Je,{activeStep:o})),r.a.createElement($.a,{className:t.dialogContent},j?r.a.createElement(Fe.Provider,{value:{activeStep:o,setActiveStep:l,deliveryOption:p,setDeliveryOption:f,orderInfo:v,orderLoading:y,setOrderLoading:O}},Xe(o)):r.a.createElement(De,null)),r.a.createElement(U.a,null,r.a.createElement($e,{onCancel:n,isLoggedIn:!!j,activeStep:o,setActiveStep:l,maxStep:3})))});a(118);var st=function(e){var t=e.items,a=r.a.useState(0),n=Object(m.a)(a,2),i=n[0],c=n[1],o=r.a.useState(!1),l=Object(m.a)(o,2),u=l[0],s=l[1],p=r.a.useContext(T).itemsLoading;return r.a.useEffect(function(){c(t.reduce(function(e,t){return e+t.unit_price*t.amount},0))},[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{className:"quotation-basket",container:!0,spacing:1,justify:"space-between",alignItems:"center"},r.a.createElement(W.a,{className:"quotation-basket__subtotal",item:!0},r.a.createElement(W.a,{container:!0,spacing:1,alignItems:"center"},r.a.createElement(W.a,{className:"quotation-basket__subtotal-label",item:!0},"Sub total"),r.a.createElement(W.a,{className:"quotation-basket__subtotal-value",item:!0},"R$ ".concat(Ie(i))))),r.a.createElement(W.a,{item:!0},r.a.createElement(C.a,{disabled:p,color:"primary",variant:"contained",onClick:function(){s(!0)}},"Fazer pedido"))),r.a.createElement(ut,{open:u,onCancel:function(){s(!1)}}))};a(119);var mt=Object(B.a)({uploadIcon:{color:"rgba(69, 90, 100, 0.1)",fontSize:"20rem"},loadingGrid:{height:"50vh"},basketGrid:{position:"sticky",bottom:"-0.35rem",marginBottom:"0.25rem",marginLeft:"0.25rem",marginRight:"0.25rem"}})(function(e){var t=e.classes,a=r.a.useContext(T),n=a.items,i=a.itemsLoading;return n&&0!==n.length||i?n&&0!==n.length||!i?r.a.createElement(W.a,{container:!0,spacing:1},n.map(function(e,t){return r.a.createElement(W.a,{key:"quotation-item-list__item-"+t,item:!0,xs:12},r.a.createElement(Te,{index:t,item:e}))}),r.a.createElement(W.a,{className:t.basketGrid,item:!0,xs:12},r.a.createElement(st,{items:n}))):r.a.createElement(W.a,{className:t.loadingGrid,container:!0,justify:"center",alignItems:"center"},r.a.createElement(W.a,{item:!0},r.a.createElement(A.a,{color:"primary",size:80}))):r.a.createElement("div",{className:"quotation-item-list__empty"},r.a.createElement(J.a,{className:t.uploadIcon}),r.a.createElement("span",null,"Fa\xe7a upload do seu arquivo!"))}),pt="\nquery RootQuery {\n\tmaterials {\n\t\tid\n\t\tname\n\t\tmaterial_types {\n\t\t\tid\n\t\t\tname\n\t\t\theat_treatments {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t}\n\t\t\tsuperficial_treatments {\n\t\t\t\tid\n\t\t\t\tname\n\t\t\t}\n\t\t}\n\t}\n}\n".trim();function ft(){return(ft=Object(N.a)(S.a.mark(function e(){var t;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/graphql",{method:"post",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify({query:pt})});case 3:return t=e.sent,e.next=6,at(t,"materials");case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{data:null,error:{status:500,message:"Houve um error"}});case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}a(120);var dt=Array(0).fill(JSON.parse('{"id":"e5906b4e-0db2-47f3-8f58-6195d0e0ecef","name":"test.stp","material_type":{"id":"cfc560d7-b2e1-47d8-921c-1c4a5720205d","name":"Alum\xednio 5083 / 5082"},"heat_treatment":null,"superficial_treatment":null,"tolerance":null,"finishing":null,"screw":null,"amount":1,"unit_price":31657}')),Et=function(){var e=r.a.useState(dt),t=Object(m.a)(e,2),a=t[0],n=t[1],i=r.a.useState(!1),c=Object(m.a)(i,2),o=c[0],l=c[1],u=r.a.useState([]),s=Object(m.a)(u,2),p=s[0],f=s[1],d=r.a.useContext(Re).handleOpenSnackbar;return r.a.useEffect(function(){(function(){return ft.apply(this,arguments)})().then(function(e){var t=e.data;e.error||f(t)})},[]),r.a.createElement(T.Provider,{value:{items:a,itemsLoading:o,setItemsLoading:l,savePartConfigChanges:function(e){l(!0),function(e){return ct.apply(this,arguments)}(e).then(function(t){var r=t.data,i=t.error;if(r){var c=a.map(function(t){return t.id===e.part_id?r:t});n(c),d("Atualiza\xe7\xe3o com sucesso")}else i&&d(i.message)}).finally(function(){l(!1)})},addItem:function(e){n([].concat(Object(x.a)(a),[e]))},removeItem:function(e){var t=a.filter(function(t,a){return a!==e});n(t)},materials:p}},r.a.createElement(j.a,{className:"quotation-view__container",maxWidth:"lg"},r.a.createElement(mt,null),r.a.createElement(L,null)))},vt="\nmutation RootMutation($input: LoginInputType!) {\n\tlogin (input: $input) {\n\t\tname\n\t\temail\n\t\tjwt\n\t\taddresses {\n\t\t\tid\n\t\t\tstate\n\t\t\tmunicipality\n\t\t\taddress\n\t\t\taddress_number\n\t\t\tcomplement\n\t\t\tpostcode\n\t\t}\n\t}\n}\n".trim(),gt="\nmutation RootMutation($input: RegisterUserInputType!) {\n\tregisterUser (input: $input) {\n\t\tname\n\t\temail\n\t\tjwt\n\t\taddresses {\n\t\t\tid\n\t\t\tstate\n\t\t\tmunicipality\n\t\t\taddress\n\t\t\taddress_number\n\t\t\tcomplement\n\t\t\tpostcode\n\t\t}\n\t}\n}\n".trim();function bt(){return(bt=Object(N.a)(S.a.mark(function e(t,a){var n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/graphql",{method:"post",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify({query:vt,variables:{input:{email:t,password:a}}})});case 3:return n=e.sent,e.next=6,at(n,"login");case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),console.warn(e.t0),e.t0;case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function ht(){return(ht=Object(N.a)(S.a.mark(function e(t,a,n,r,i){var c;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/graphql",{method:"post",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify({query:gt,variables:{input:{name:t,phone_number:a,email:n,password:r,addresses:i}}})});case 3:return c=e.sent,e.next=6,at(c,"registerUser");case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),console.warn(e.t0),e.t0;case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function yt(){return"localStorage"in window}function Ot(e,t,a){!function(e){yt()&&window.localStorage.setItem("userName",e)}(e),function(e){yt()&&window.localStorage.setItem("userEmail",e)}(t),function(e){yt()&&window.localStorage.setItem("userJwt",e)}(a)}function xt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function jt(e,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mech4u",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise(function(a,n){"indexedDB"in window||(console.error("Browser doesn't support indexedDB"),n(new Error("Browser doesn't support indexedDB")));var r=window.indexedDB.open(e,t);r.onerror=function(e){console.error("Error opening indexedDB",r.error),n(r.error)},r.onsuccess=function(e){a(e.target.result)},r.onupgradeneeded=function(e){var t=e.target.result.createObjectStore("userAddress",{keyPath:"id"});t.createIndex("userEmail","userEmail",{unique:!1}),t.createIndex("id","id",{unique:!0})}})}().then(function(a){return new Promise(function(n,r){var i=a.transaction("userAddress","readwrite").objectStore("userAddress");t.forEach(function(t){var a=i.put(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xt(a,!0).forEach(function(t){Object(_.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({userEmail:e},t));a.onerror=function(e){console.error(a.error),r(a.error)},a.onsuccess=function(e){n()}})})}).catch(function(e){return Promise.resolve()})}a(121);var wt=function(){var e=r.a.useState(null),t=Object(m.a)(e,2),a=t[0],n=t[1],i=r.a.useState(!1),c=Object(m.a)(i,2),o=c[0],l=c[1],u=r.a.useState(!1),s=Object(m.a)(u,2),E=s[0],g=s[1],b=r.a.useState(""),h=Object(m.a)(b,2),y=h[0],x=h[1];function j(e){x(e),g(!0)}function w(){g(!1)}return r.a.useEffect(function(){n(JSON.parse('{"data":{"login":{"name":"Davi Souza","email":"ddas.souza@gmail.com","jwt":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjQzMGU1YjdlLTE4ZmEtNDU3Ny1iYjFjLTJmYmIyNDIxYjgxMCIsIm5hbWUiOiJEYXZpIFNvdXphIiwiZW1haWwiOiJkZGFzLnNvdXphQGdtYWlsLmNvbSIsInBob25lX251bWJlciI6IjEyOTgxNzY0NTkzIiwiY3JlYXRlZEF0IjoiMjAxOS0wOS0xN1QxNzo0Njo0OC4zNDZaIiwidXBkYXRlZEF0IjoiMjAxOS0wOS0xN1QxNzo0Njo0OC4zNDZaIiwiZGVsZXRlZEF0IjpudWxsLCJhZGRyZXNzZXMiOlt7ImlkIjoiOGRjMWY3MWQtODlhMS00ZTg0LTgwYWUtMTI2MzVjNjJmOTdkIiwic3RhdGUiOiJTUCIsIm11bmljaXBhbGl0eSI6IlPDo28gSm9zw6kgZG9zIENhbXBvcyIsImFkZHJlc3MiOiJSdWEgUmVwdWJsaWNhIGRvIElyYXF1ZSIsImFkZHJlc3NfbnVtYmVyIjo4MCwiY29tcGxlbWVudCI6IkFwdCA2NEIiLCJwb3N0Y29kZSI6IjEyMjE2LTU0MCJ9XSwiaWF0IjoxNTY5ODM2Njc3LCJleHAiOjE1NzI0Mjg2Nzd9.hqDc7kh_jF10pRceaHUt2_2a9gKI68lP1AsTMvPDN70","addresses":[{"id":"8dc1f71d-89a1-4e84-80ae-12635c62f97d","state":"SP","municipality":"S\xe3o Jos\xe9 dos Campos","address":"Rua Republica do Iraque","address_number":80,"complement":"Apt 64B","postcode":"12216-540"}]}}}'))},[]),r.a.createElement(Re.Provider,{value:{user:a,userLoading:o,userLogin:function(e,t){l(!0),function(e,t){return bt.apply(this,arguments)}(e,t).then(function(e){var t=e.data,a=e.error;a?500!==a.status?j(a.message):j("Houve um erro"):t?(n(t),Ot(t.name,t.email,t.jwt),jt(t.email,t.addresses)):j("Houve um erro")}).catch(console.error).finally(function(){l(!1)})},userRegister:function(e,t,a,r,i){(function(e,t,a,n,r){return ht.apply(this,arguments)})(e,t,a,r,i).then(function(e){var t=e.data,a=e.error;a?500!==a.status?j(a.message):j("Houve um erro"):t?(n(t),Ot(t.name,t.email,t.jwt),jt(t.email,t.addresses)):j("Houve um erro")}).catch(console.error)},handleOpenSnackbar:j}},r.a.createElement(O,null),r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/quotation",component:Et}),r.a.createElement(p.b,{render:function(){return r.a.createElement(p.a,{to:"/quotation"})}})),r.a.createElement(f.a,{anchorOrigin:{vertical:"top",horizontal:"left"},open:E,autoHideDuration:5e3,onClose:w,message:r.a.createElement("span",{id:"message-id"},y),action:r.a.createElement(d.a,{color:"inherit",onClick:w},r.a.createElement(v.a,null))}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(124),a(125);var St=Object(l.a)({palette:{primary:{main:"#455a64",dark:"#1c313a",light:"#718792",contrastText:"#ffffff"},secondary:{main:"#ef5350",dark:"#b61827",light:"#ff867c",contrastText:"#000000"}}});c.a.render(r.a.createElement(o.a,null,r.a.createElement(u.a,{theme:St},r.a.createElement(s.a,null),r.a.createElement(wt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[103,1,2]]]);
//# sourceMappingURL=main.b50df21b.chunk.js.map